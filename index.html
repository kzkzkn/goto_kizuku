<!DOCTYPE html>
<html lang="ja">
<head>
    <link rel="stylesheet" href="./index.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kizuku Goto - Portfolio</title>
    <link rel="stylesheet" href="style.css"> <!-- CSSファイルをリンク -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@3.0.2/tsparticles.bundle.min.js"></script>
</head>
<body>
    <!-- カスタムカーソル用HTML (オプション) -->
    <div class="custom-cursor">
        <div class="cursor-dot"></div>
        <div class="cursor-outline"></div>
    </div>

    <header>
        <div id="tsparticles-hero"></div>
        <div class="hero-content">
            <h1 data-split-chars>Kizuku Goto</h1>
            <p class="subtitle" data-split-lines>
                東京×群馬のアツい学生を繋ぐコミュニティビルダー<br>
                学生 × AI・DX推進のスペシャリスト
            </p>
        </div>
        <div class="scroll-indicator"></div>
    </header>

    <nav id="navbar">
        <ul>
            <li><a href="#profile" class="nav-link">Profile</a></li>
            <li><a href="#activities" class="nav-link">Activities</a></li>
            <li><a href="#skills" class="nav-link">Skills</a></li>
            <li><a href="#contact" class="nav-link">Contact</a></li>
        </ul>
    </nav>

    <main>
        <section id="profile" class="profile-section">
            <h2 class="section-title anim-fade-up">Profile</h2>
            <div class="profile anim-profile">
                <div class="profile-image-wrapper">
                    <!-- ご自身の画像パスに置き換えてください -->
                    <img src="https://via.placeholder.com/350x350/2563eb/ffffff?text=Kizuku+Goto" alt="Kizuku Goto" class="profile-image">
                </div>
                <div class="profile-content">
                    <h2>About Me</h2>
                    <p>宮城県出身、群馬と東京で活動する生成AI好きな大学生。東京と群馬を中心に学生コミュニティの立ち上げや運営を通じて、熱意ある若者の可能性を引き出す活動を展開しています。</p>
                </div>
            </div>
        </section>

        <section id="activities">
            <h2 class="section-title anim-fade-up">Activities</h2>
            <div class="activities">
                <div class="activity-card anim-stagger-item">
                    <h3>学生団体 SONOSAKI</h3>
                    <p class="subtitle">立ち上げ／仕組み化</p>
                    <ul>
                        <li>企業協賛：12社＋1官庁</li>
                        <li>200名規模の講演イベント開催</li>
                        <li>常時40人のアクティブ学生を維持</li>
                        <li>Softbank × KINGビジネスコンテスト優勝メンバー排出</li>
                    </ul>
                    <a href="#" class="activity-link" target="_blank" rel="noopener noreferrer">Instagram →</a>
                </div>

                <div class="activity-card anim-stagger-item">
                    <h3>LinkedIn Student Club Japan</h3>
                    <p class="subtitle">Ambassador</p>
                    <ul>
                        <li>Panasonic、日本マイクロソフトcopilot開発部チーム担当</li>
                        <li>イベント総集客人数5,000名達成</li>
                    </ul>
                    <a href="#" class="activity-link" target="_blank" rel="noopener noreferrer">Official Page →</a>
                </div>

                <div class="activity-card anim-stagger-item">
                    <h3>学生団体 AIspire</h3>
                    <p class="subtitle">立ち上げ</p>
                    <ul>
                        <li>BaseMe様とのコラボイベントモデレーター</li>
                        <li>AI・DX関連の学生向けイベント企画・運営</li>
                    </ul>
                    <a href="#" class="activity-link" target="_blank" rel="noopener noreferrer">Instagram →</a>
                </div>
            </div>
        </section>

        <section id="skills">
            <h2 class="section-title anim-fade-up">Skills</h2>
            <div class="skills">
                <div class="skill-card anim-stagger-item">
                    <h3>生成AIの導入支援</h3>
                    <p>企業や学生団体向けのAI活用コンサルティング</p>
                </div>
                <div class="skill-card anim-stagger-item">
                    <h3>イベント運営</h3>
                    <p>学生向けイベントの運営・集客・企画</p>
                </div>
                <div class="skill-card anim-stagger-item">
                    <h3>コミュニティ構築</h3>
                    <p>コミュニティの立ち上げ・仕組み化</p>
                </div>
                <div class="skill-card anim-stagger-item">
                    <h3>新規事業開発</h3>
                    <p>新規事業開発やアイデア出し支援（特に学生向け）</p>
                </div>
            </div>
        </section>

        <section id="contact" class="social-section">
            <h2 class="section-title anim-fade-up">Connect</h2>
            <div class="social-links">
                <a href="#" class="social-link anim-stagger-item" target="_blank" rel="noopener noreferrer">LinkedIn</a>
                <a href="#" class="social-link anim-stagger-item" target="_blank" rel="noopener noreferrer">Twitter / X</a>
                <a href="#" class="social-link anim-stagger-item" target="_blank" rel="noopener noreferrer">Instagram</a>
                <a href="#" class="social-link anim-stagger-item" target="_blank" rel="noopener noreferrer">LINE</a>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2025 Kizuku Goto</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        gsap.registerPlugin(ScrollTrigger);

        // --- カスタムカーソル (オプション) ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        const body = document.body;

        let mouseX = 0, mouseY = 0;
        let dotX = 0, dotY = 0;
        let outlineX = 0, outlineY = 0;

        if (cursorDot && cursorOutline) { // 要素が存在する場合のみ実行
            body.style.cursor = 'none'; // デフォルトカーソルを非表示

            window.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            const animateCursor = () => {
                dotX += (mouseX - dotX) * 0.6; // ドットの追従速度 (速め)
                dotY += (mouseY - dotY) * 0.6;
                outlineX += (mouseX - outlineX) * 0.15; // アウトラインの追従速度
                outlineY += (mouseY - outlineY) * 0.15;

                cursorDot.style.transform = `translate(${dotX - cursorDot.offsetWidth / 2}px, ${dotY - cursorDot.offsetHeight / 2}px)`;
                cursorOutline.style.transform = `translate(${outlineX - cursorOutline.offsetWidth / 2}px, ${outlineY - cursorOutline.offsetHeight / 2}px)`;
                
                requestAnimationFrame(animateCursor);
            };
            animateCursor();

            document.querySelectorAll('a, button, .activity-card, .skill-card, .profile-image-wrapper, .social-link').forEach(el => {
                el.addEventListener('mouseenter', () => body.setAttribute('data-cursor-hover', 'true'));
                el.addEventListener('mouseleave', () => body.removeAttribute('data-cursor-hover'));
            });
            // テキストホバー時のカーソル変化 (必要ならコメント解除)
            // document.querySelectorAll('h1, h2, h3, p, li').forEach(el => {
            //     el.addEventListener('mouseenter', () => body.setAttribute('data-cursor-text', 'true'));
            //     el.addEventListener('mouseleave', () => body.removeAttribute('data-cursor-text'));
            // });
        }


        // --- ヒーローセクション アニメーション ---
        const heroH1 = document.querySelector('.hero-content h1[data-split-chars]');
        const heroSubtitle = document.querySelector('.hero-content .subtitle[data-split-lines]');

        if (heroH1) {
            const chars = new SplitType(heroH1, { types: 'chars' });
            gsap.from(chars.chars, {
                opacity: 0,
                y: 40,
                rotateX: -90,
                stagger: 0.03,
                duration: 0.8,
                ease: "power3.out",
                delay: 0.3
            });
        }
        if (heroSubtitle) {
            const lines = new SplitType(heroSubtitle, { types: 'lines' });
            gsap.from(lines.lines, {
                opacity: 0,
                y: 30,
                stagger: 0.1,
                duration: 0.7,
                ease: "power2.out",
                delay: 0.8 // h1アニメーションの後
            });
        }
        // スクロールインジケーターのアニメーション
        gsap.fromTo(".scroll-indicator", { opacity: 0, y: -20 }, {
            opacity: 1, y: 0, duration: 1, ease: "power2.out", delay: 1.5
        });


        // --- tsParticles ヒーロー背景 ---
        if (document.getElementById('tsparticles-hero')) {
            tsParticles.load("tsparticles-hero", {
                fpsLimit: 60,
                interactivity: {
                    events: {
                        onHover: { enable: true, mode: "grab" },
                        resize: { enable: true }
                    },
                    modes: {
                        grab: { distance: 150, links: { opacity: 0.3 } },
                        repulse: { distance: 100, duration: 0.4 }
                    }
                },
                particles: {
                    color: { value: "#aaaaaa" },
                    links: {
                        color: "#bbbbbb",
                        distance: 120,
                        enable: true,
                        opacity: 0.15,
                        width: 1
                    },
                    move: {
                        direction: "none",
                        enable: true,
                        outModes: { default: "bounce" },
                        random: true,
                        speed: 0.5,
                        straight: false
                    },
                    number: {
                        density: { enable: true, area: 900 },
                        value: 50
                    },
                    opacity: {
                        value: {min: 0.1, max: 0.4},
                        animation: { enable: true, speed: 0.5, minimumValue: 0.1, sync: false}
                    },
                    shape: { type: "circle" },
                    size: {
                        value: { min: 1, max: 3 },
                        animation: { enable: true, speed: 2, minimumValue: 0.5, sync: false }
                    }
                },
                detectRetina: true
            });
        }

        // --- ナビゲーション表示 ---
        const navbar = document.getElementById('navbar');
        if (navbar) {
            ScrollTrigger.create({
                start: "150px top",
                onEnter: () => navbar.classList.add('visible'),
                onLeaveBack: () => navbar.classList.remove('visible')
            });
        }

        // --- スムーズスクロール ---
        document.querySelectorAll('a.nav-link[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    let offset = navbar ? navbar.offsetHeight + 20 : 70; // ナビゲーションの高さを考慮
                    if (window.innerWidth <= 768 && navbar) { // モバイルでナビゲーションが折り返している場合
                         // モバイル時のナビゲーションの高さを動的に取得、または固定値を設定
                         offset = navbar.offsetHeight + 10; // 必要に応じて調整
                    }
                    gsap.to(window, {
                        duration: 1,
                        scrollTo: {
                            y: targetElement,
                            offsetY: offset
                        },
                        ease: "power2.inOut"
                    });
                }
            });
        });

        // --- 汎用スクロールアニメーション ---
        gsap.utils.toArray('.anim-fade-up').forEach(el => {
            gsap.fromTo(el,
                { opacity: 0, y: 60 },
                {
                    opacity: 1, y: 0, duration: 1, ease: "power3.out",
                    scrollTrigger: { trigger: el, start: "top 85%", toggleActions: "play none none none" }
                }
            );
        });

        if (document.querySelector('.anim-profile')) {
            const tlProfile = gsap.timeline({
                scrollTrigger: {
                    trigger: ".anim-profile",
                    start: "top 80%",
                    toggleActions: "play none none none"
                }
            });
            tlProfile.fromTo(".profile-image-wrapper .profile-image",
                { opacity: 0, scale: 0.8, filter: "blur(5px)" },
                { opacity: 1, scale: 1, filter: "blur(0px)", duration: 1, ease: "expo.out" }
            )
            .fromTo(".profile-image-wrapper::before",
                { opacity: 0, scale: 0.9, rotate: -5 },
                { opacity: 0.9, scale: 1, rotate: 0, duration: 0.8, ease: "back.out(1.4)" },
                "-=0.6"
            )
            .fromTo(".profile-content h2",
                { opacity: 0, x: -30 },
                { opacity: 1, x: 0, duration: 0.7, ease: "power2.out" },
                "-=0.5"
            )
            .fromTo(".profile-content p",
                { opacity: 0, x: -30 },
                { opacity: 1, x: 0, duration: 0.7, stagger: 0.1, ease: "power2.out" },
                "-=0.4"
            );
        }

        gsap.utils.toArray('.anim-stagger-item').forEach((item) => {
            let triggerElement = item.closest('.activities, .skills, .social-links') || item;
            let delay = 0;
            if (triggerElement !== item) { // If item has a valid parent for staggering
                // Calculate delay based on index within its parent
                const siblings = Array.from(triggerElement.children).filter(child => child.classList.contains('anim-stagger-item'));
                const indexInParent = siblings.indexOf(item);
                delay = indexInParent >= 0 ? indexInParent * 0.15 : 0;
            }

            gsap.fromTo(item,
                { opacity: 0, y: 50, scale: 0.95 },
                {
                    opacity: 1, y: 0, scale: 1, duration: 0.6, ease: "power2.out",
                    scrollTrigger: {
                        trigger: triggerElement,
                        start: "top 85%",
                        toggleActions: "play none none none",
                    },
                    delay: delay
                }
            );
        });

    }); // End of DOMContentLoaded
    </script>
</body>
</html>
